<!DOCTYPE html>
<html>
<head>
<title>PadiBuddy</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin:0;
  font-family:'Segoe UI',sans-serif;
  background:linear-gradient(-45deg,#0f172a,#1e1b4b,#312e81,#1e293b);
  background-size:400% 400%;
  animation:gradientMove 12s ease infinite;
  color:white;
}

@keyframes gradientMove{
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}

.hidden{display:none;}

.section{
  height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
}

button{
  padding:10px 20px;
  border:none;
  border-radius:8px;
  background:linear-gradient(90deg,#6366f1,#8b5cf6);
  color:white;
  cursor:pointer;
  margin-top:10px;
}

input{
  padding:10px;
  margin:8px;
  border-radius:8px;
  border:none;
  width:250px;
}

.app{display:flex;}

.sidebar{
  width:220px;
  height:100vh;
  background:rgba(30,41,59,0.9);
  padding:20px;
}

.sidebar button{
  width:100%;
  margin:10px 0;
  background:rgba(255,255,255,0.1);
}

.main{flex:1;padding:40px;}

.card{
  background:rgba(255,255,255,0.08);
  padding:20px;
  border-radius:12px;
  margin-bottom:20px;
}

.progress-bar{
  background:rgba(255,255,255,0.1);
  height:20px;
  border-radius:10px;
  overflow:hidden;
}

.progress-fill{
  height:100%;
  background:linear-gradient(90deg,#6366f1,#8b5cf6);
  width:0%;
  text-align:center;
  font-size:12px;
  line-height:20px;
}
</style>
</head>

<body>

<div id="landing" class="section">
  <h1 style="font-size:48px;">Welcome to PadiBuddy ðŸš€</h1>
  <p>Your AI-powered study planner for smarter preparation.</p>
  <button id="startBtn" onclick="alert('Clicked')">Start Planning</button>
</div>

<div id="auth" class="section hidden">
  <h2>Register / Login</h2>
  <input id="username" placeholder="Username"><br>
  <input id="password" type="password" placeholder="Password"><br>
  <button id="registerBtn">Register</button>
  <button id="loginBtn">Login</button>
</div>

<div id="app" class="app hidden">

<div class="sidebar">
<h2>PadiBuddy</h2>
<button onclick="showPage('dashboard')">Dashboard</button>
<button onclick="showPage('planner')">Planner</button>
<button onclick="showPage('ai')">AI Assistant</button>
<button onclick="showPage('profile')">Profile</button>
<button onclick="logout()">Logout</button>
</div>

<div class="main">

<div id="dashboard" class="page">
<h1 id="welcomeText"></h1>

<div class="card">
<p>Total Tasks: <span id="totalTasks">0</span></p>
<p>Completed: <span id="completedTasks">0</span></p>
</div>

<div class="card">
<div class="progress-bar">
<div id="progressFill" class="progress-fill">0%</div>
</div>
</div>

<div class="card">
<p>Streak ðŸ”¥ <span id="streakCount">1</span> days</p>
</div>

</div>

<div id="planner" class="page hidden">
<input id="taskInput" placeholder="Enter task">
<button onclick="addTask()">Add</button>
<ul id="taskList"></ul>
</div>

<div id="ai" class="page hidden">
<input id="aiInput" placeholder="Ask something">
<button onclick="aiReply()">Ask</button>
<div id="aiOutput"></div>
</div>

<div id="profile" class="page hidden">
<p>Username: <span id="profileName"></span></p>
</div>

</div>
</div>

<script>

const landing=document.getElementById("landing");
const auth=document.getElementById("auth");
const app=document.getElementById("app");

document.getElementById("startBtn").addEventListener("click",()=>{
landing.classList.add("hidden");
auth.classList.remove("hidden");
});

document.getElementById("registerBtn").addEventListener("click",()=>{
localStorage.setItem("username",username.value);
localStorage.setItem("password",password.value);
alert("Registered!");
});

document.getElementById("loginBtn").addEventListener("click",()=>{
if(username.value===localStorage.getItem("username") &&
password.value===localStorage.getItem("password")){
localStorage.setItem("loggedIn","true");
openApp();
}else alert("Invalid credentials");
});

function openApp(){
auth.classList.add("hidden");
landing.classList.add("hidden");
app.classList.remove("hidden");
welcomeText.innerText="Hello, "+localStorage.getItem("username")+" ðŸ‘‹";
profileName.innerText=localStorage.getItem("username");
renderTasks();
updateStreak();
}

function logout(){
localStorage.removeItem("loggedIn");
location.reload();
}

window.onload=()=>{
if(localStorage.getItem("loggedIn")==="true") openApp();
}

function showPage(id){
document.querySelectorAll(".page").forEach(p=>p.classList.add("hidden"));
document.getElementById(id).classList.remove("hidden");
}

let tasks=JSON.parse(localStorage.getItem("tasks"))||[];

function addTask(){
if(taskInput.value==="") return;
tasks.push({name:taskInput.value,done:false});
localStorage.setItem("tasks",JSON.stringify(tasks));
taskInput.value="";
renderTasks();
}

function renderTasks(){
taskList.innerHTML="";
let completed=0;
tasks.forEach((t,i)=>{
let li=document.createElement("li");
li.innerHTML=`<input type="checkbox" ${t.done?"checked":""}
onchange="toggleTask(${i})"> ${t.name}`;
taskList.appendChild(li);
if(t.done) completed++;
});
totalTasks.innerText=tasks.length;
completedTasks.innerText=completed;
let percent=tasks.length?Math.round((completed/tasks.length)*100):0;
progressFill.style.width=percent+"%";
progressFill.innerText=percent+"%";
}

function toggleTask(i){
tasks[i].done=!tasks[i].done;
localStorage.setItem("tasks",JSON.stringify(tasks));
renderTasks();
}

function updateStreak(){
let today=new Date().toDateString();
let last=localStorage.getItem("lastVisit");
let streak=parseInt(localStorage.getItem("streak")||1);
if(last!==today){
streak++;
localStorage.setItem("streak",streak);
localStorage.setItem("lastVisit",today);
}
streakCount.innerText=streak;
}

function aiReply(){
let q=aiInput.value.toLowerCase();
let r="Stay consistent and revise daily.";
if(q.includes("exam")) r="Create 7-day revision plan.";
if(q.includes("productivity")) r="Use Pomodoro technique.";
if(q.includes("weak")) r="Focus 30 mins extra daily.";
aiOutput.innerHTML="<p><b>AI:</b> "+r+"</p>";
}

</script>

</body>
</html>
