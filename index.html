<!DOCTYPE html>
<html>
<head>
<title>PadiBuddy</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
margin:0;
font-family:Arial, sans-serif;
background:linear-gradient(135deg,#4e73df,#1cc88a);
min-height:100vh;
display:flex;
justify-content:center;
align-items:center;
color:white;
}

.container{
width:380px;
background:rgba(0,0,0,0.35);
padding:25px;
border-radius:15px;
box-shadow:0 0 20px rgba(0,0,0,0.3);
text-align:center;
}

h1,h2{margin:10px 0;}

input{
width:100%;
padding:8px;
margin:6px 0;
border:none;
border-radius:6px;
}

button{
padding:8px 15px;
margin-top:8px;
border:none;
border-radius:6px;
background:white;
color:#1cc88a;
font-weight:bold;
cursor:pointer;
}

.hidden{display:none;}

ul{
text-align:left;
padding-left:15px;
margin-top:10px;
}

li{
margin:5px 0;
}

.progress{
background:rgba(255,255,255,0.3);
border-radius:6px;
overflow:hidden;
height:15px;
margin-top:10px;
}

.progress-bar{
height:100%;
background:#00ffcc;
width:0%;
}
</style>
</head>

<body>

<div class="container" id="landing">
<h1>PadiBuddy ðŸ“š</h1>
<p>Your Personal Study Planner</p>
<button onclick="showAuth()">Get Started</button>
</div>

<div class="container hidden" id="auth">
<h2>Login / Register</h2>
<input id="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">
<button onclick="register()">Register</button>
<button onclick="login()">Login</button>
<p id="msg"></p>
<button onclick="backHome()">Back</button>
</div>

<div class="container hidden" id="dashboard">

<h2 id="welcome"></h2>
<p id="todayDate"></p>

<h3>ðŸŽ¯ Study Goal</h3>
<input id="goalInput" placeholder="Enter today's goal">
<button onclick="saveGoal()">Save Goal</button>
<p id="savedGoal"></p>

<h3>ðŸ“š Add Study Task</h3>
<input id="subjectInput" placeholder="Subject">
<input id="taskInput" placeholder="Task description">
<button onclick="addTask()">Add Task</button>

<ul id="taskList"></ul>

<h3>ðŸ“Š Progress</h3>
<div class="progress">
<div class="progress-bar" id="progressBar"></div>
</div>
<p id="progressText"></p>

<h3>ðŸ”¥ Study Streak</h3>
<p id="streakText"></p>
<button onclick="markStudied()">Mark Today Studied</button>

<button onclick="logout()">Logout</button>

</div>

<script>

function showAuth(){
landing.classList.add("hidden");
auth.classList.remove("hidden");
}

function backHome(){
auth.classList.add("hidden");
landing.classList.remove("hidden");
}

function register(){
if(email.value===""||password.value===""){
msg.innerText="Fill all fields";
return;
}
localStorage.setItem("email",email.value);
localStorage.setItem("password",password.value);
msg.innerText="Registered! Now login.";
}

function login(){
if(email.value===localStorage.getItem("email") &&
password.value===localStorage.getItem("password")){
localStorage.setItem("logged","true");
openDashboard();
}else{
msg.innerText="Invalid credentials";
}
}

function openDashboard(){
auth.classList.add("hidden");
dashboard.classList.remove("hidden");
welcome.innerText="Welcome "+localStorage.getItem("email");
todayDate.innerText="ðŸ“… "+new Date().toDateString();
loadGoal();
loadTasks();
loadStreak();
}

function logout(){
localStorage.setItem("logged","false");
location.reload();
}

function saveGoal(){
localStorage.setItem("goal",goalInput.value);
loadGoal();
}

function loadGoal(){
savedGoal.innerText="Goal: "+(localStorage.getItem("goal")||"No goal set");
}

function addTask(){
if(subjectInput.value===""||taskInput.value==="") return;
let tasks=JSON.parse(localStorage.getItem("tasks"))||[];
tasks.push({
subject:subjectInput.value,
task:taskInput.value,
done:false
});
localStorage.setItem("tasks",JSON.stringify(tasks));
subjectInput.value="";
taskInput.value="";
loadTasks();
}

function loadTasks(){
let tasks=JSON.parse(localStorage.getItem("tasks"))||[];
taskList.innerHTML="";
let completed=0;

tasks.forEach((t,index)=>{
let li=document.createElement("li");
let checkbox=document.createElement("input");
checkbox.type="checkbox";
checkbox.checked=t.done;
checkbox.onchange=function(){
t.done=!t.done;
localStorage.setItem("tasks",JSON.stringify(tasks));
loadTasks();
};
li.appendChild(checkbox);
li.append(" "+t.subject+" - "+t.task);
taskList.appendChild(li);
if(t.done) completed++;
});

let percent=tasks.length?Math.round((completed/tasks.length)*100):0;
progressBar.style.width=percent+"%";
progressText.innerText=percent+"% completed";
}

function markStudied(){
let streak=parseInt(localStorage.getItem("streak"))||0;
streak++;
localStorage.setItem("streak",streak);
loadStreak();
}

function loadStreak(){
let streak=parseInt(localStorage.getItem("streak"))||0;
streakText.innerText=streak+" days";
}

if(localStorage.getItem("logged")==="true"){
openDashboard();
}

</script>

</body>
</html>
